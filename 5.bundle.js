(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{157:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=y(a(103)),r=y(a(104)),o=y(a(55)),i=y(a(41)),u=y(a(42)),d=y(a(56)),l=y(a(57)),s=y(a(54)),f=y(a(85)),c=y(a(1)),m=(y(a(3)),y(a(106))),h=y(a(137)),p=y(a(5841)),v=a(71);function y(e){return e&&e.__esModule?e:{default:e}}new s.default;var g=function(e){function t(){var e,a,n,r;(0,i.default)(this,t);for(var u=arguments.length,l=Array(u),s=0;s<u;s++)l[s]=arguments[s];return(a=n=(0,d.default)(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(l)))).state={items:[],loading:!1,error:null},r=a,(0,d.default)(n,r)}var a;return(0,l.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){this.load()}},{key:"load",value:(a=(0,r.default)(n.default.mark(function e(){var t,a,r;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.prev=1,t=localStorage.getItem("id_token"),a={headers:{"x-auth":t}},e.next=6,m.default.get("https://powerful-forest-19235.herokuapp.com/api/summary/"+this.props.summaryType,a).then(function(e){return e.data});case 6:r=e.sent,this.setState({loading:!1,items:r}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),this.setState({loading:!1,error:e.t0.message});case 13:case"end":return e.stop()}},e,this,[[1,10]])})),function(){return a.apply(this,arguments)})},{key:"render",value:function(){var e=this.state.items,t=this.props.summaryType;return c.default.createElement("div",null,e.map(function(e,a){return c.default.createElement("div",{key:a,style:{margin:"1em",textAlign:"center"}},"byDay"===t&&c.default.createElement(v.StyledComponents,{title:"El "+(0,h.default)(new Date(e.year+", "+e.month+", "+e.day),"dd MMMM YYYY",{locale:p.default})+" consumiste "+e.totalKcal+" calorías"}),"byMonth"===t&&c.default.createElement(v.StyledComponents,{title:"En "+(0,h.default)(new Date(e.year+", "+e.month),"MMMM YYYY",{locale:p.default})+" consumiste "+e.totalKcal+" calorías"}),"byYear"===t&&c.default.createElement(v.StyledComponents,{title:"En el "+(0,h.default)(new Date(""+e.year),"YYYY",{locale:p.default})+" consumiste "+e.totalKcal+" calorías"}))}))}}]),t}(c.default.Component);t.default=(0,f.default)(g)},54:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(a(70)),r=l(a(112)),o=l(a(5517)),i=l(a(41)),u=l(a(42)),d=l(a(5518));function l(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(t){(0,i.default)(this,e),this.domain=t||"https://powerful-forest-19235.herokuapp.com/api",this.fetch=this.fetch.bind(this),this.login=this.login.bind(this),this.getProfile=this.getProfile.bind(this)}return(0,u.default)(e,[{key:"login",value:function(e,t){var a=this;return this.fetch(this.domain+"/users/login",{method:"POST",body:(0,o.default)({email:e,password:t})}).then(function(e){return a.setToken(e.token),r.default.resolve(e)})}},{key:"loggedIn",value:function(){var e=this.getToken();return!!e&&!this.isTokenExpired(e)}},{key:"isTokenExpired",value:function(e){try{return(0,d.default)(e).exp<Date.now()/1e3}catch(e){return!1}}},{key:"setToken",value:function(e){localStorage.setItem("id_token",e)}},{key:"getToken",value:function(){return localStorage.getItem("id_token")}},{key:"logout",value:function(){localStorage.removeItem("id_token")}},{key:"getProfile",value:function(){return(0,d.default)(this.getToken())}},{key:"fetch",value:function(e){function t(t,a){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t){var a={Accept:"application/json","Content-Type":"application/json"};return this.loggedIn()&&(a.Authorization="Bearer "+this.getToken()),fetch(e,(0,n.default)({headers:a},t)).then(this._checkStatus).then(function(e){return e.json()})})},{key:"_checkStatus",value:function(e){if(200<=e.status&&e.status<300)return e;var t=new Error(e.statusText);throw t.response=e,t}}]),e}();t.default=s},5839:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=v(a(55)),r=v(a(41)),o=v(a(42)),i=v(a(56)),u=v(a(57)),d=v(a(54)),l=v(a(85)),s=v(a(1)),f=(v(a(3)),a(43)),c=a(71),m=v(a(5840)),h=v(a(5847)),p=v(a(5848));function v(e){return e&&e.__esModule?e:{default:e}}var y=new d.default,g=function(e){function t(){var e,a,o,u;(0,r.default)(this,t);for(var d=arguments.length,l=Array(d),s=0;s<d;s++)l[s]=arguments[s];return(a=o=(0,i.default)(this,(e=t.__proto__||(0,n.default)(t)).call.apply(e,[this].concat(l)))).state={value:0},o.handleChange=function(e,t){o.setState({value:t})},o.logout=function(e){y.logout(),o.props.history.replace("/login")},u=a,(0,i.default)(o,u)}return(0,u.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return s.default.createElement("div",null,s.default.createElement(c.NavMenu,{username:this.props.user.username,logout:this.logout}),s.default.createElement("h1",{style:{textAlign:"center",color:"#f44336"}},"Resumen de calorías"),s.default.createElement(f.Paper,{square:!0,style:{width:"50%",margin:".5em auto"}},s.default.createElement(f.Tabs,{value:this.state.value,indicatorColor:"primary",textColor:"primary",onChange:this.handleChange},s.default.createElement(f.Tab,{label:"Día"}),s.default.createElement(f.Tab,{label:"Mes"}),s.default.createElement(f.Tab,{label:"Año"}))),0===this.state.value&&s.default.createElement(h.default,null),1===this.state.value&&s.default.createElement(m.default,null),2===this.state.value&&s.default.createElement(p.default,null))}}]),t}(s.default.Component);t.default=(0,l.default)(g)},5840:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(1)),r=o(a(157));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(){return n.default.createElement(r.default,{summaryType:"byMonth"})}},5841:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(5842)),r=d(a(5843)),o=d(a(5844)),i=d(a(5845)),u=d(a(5846));function d(e){return e&&e.__esModule?e:{default:e}}var l={formatDistance:n.default,formatLong:r.default,formatRelative:o.default,localize:i.default,match:u.default,options:{weekStartsOn:1,firstWeekContainsDate:1}};t.default=l,e.exports=t.default},5842:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){var r;return a=a||{},r="string"==typeof n[e]?n[e]:1===t?n[e].one:n[e].other.replace("{{count}}",t),a.addSuffix?0<a.comparison?"en "+r:"hace "+r:r};var n={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 día",other:"{{count}} días"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 año",other:"alrededor de {{count}} años"},xYears:{one:"1 año",other:"{{count}} años"},overXYears:{one:"más de 1 año",other:"más de {{count}} años"},almostXYears:{one:"casi 1 año",other:"casi {{count}} años"}};e.exports=t.default},5843:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=(n=a(248))&&n.__esModule?n:{default:n},o={date:(0,r.default)({formats:{full:"EEEE, d 'de' MMMM y",long:"d 'de' MMMM y",medium:"d MMM y",short:"dd/MM/y"},defaultWidth:"full"}),time:(0,r.default)({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:(0,r.default)({formats:{full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};t.default=o,e.exports=t.default},5844:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,o){return 1===t.getHours()?n[e]:r[e]};var n={lastWeek:"'el' eeee 'pasado a la' LT",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'mañana a la' p",nextWeek:"eeee 'a la' p",other:"P"},r={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'mañana a las' p",nextWeek:"eeee 'a las' p",other:"P"};e.exports=t.default},5845:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=(n=a(249))&&n.__esModule?n:{default:n},o={ordinalNumber:function(e){return Number(e)+"º"},era:(0,r.default)({values:{narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","después de cristo"]},defaultWidth:"wide"}),quarter:(0,r.default)({values:{narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:(0,r.default)({values:{narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},defaultWidth:"wide"}),day:(0,r.default)({values:{narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","sa"],abbreviated:["dom","lun","mar","mié","jue","vie","sab"],wide:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"]},defaultWidth:"wide"}),dayPeriod:(0,r.default)({values:{narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},defaulFormattingWidth:"wide"})};t.default=o,e.exports=t.default},5846:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(250)),r=o(a(251));function o(e){return e&&e.__esModule?e:{default:e}}var i={ordinalNumber:(0,n.default)({matchPattern:/^(\d+)(º)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:(0,r.default)({matchPatterns:{narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[uú]n|despu[eé]s de cristo|era com[uú]n)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[uú]n)/i,/^(despu[eé]s de cristo|era com[uú]n)/i]},defaultParseWidth:"any"}),quarter:(0,r.default)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:(0,r.default)({matchPatterns:{narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},defaultParseWidth:"any"}),day:(0,r.default)({matchPatterns:{narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|sa)/i,abbreviated:/^(dom|lun|mar|mie|jue|vie|sab)/i,wide:/^(domingo|lunes|martes|miercoles|jueves|viernes|s[áa]bado)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:(0,r.default)({matchPatterns:{narrow:/^(a|p|mn|md|(de la|a las) (mañana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (mañana|tarde|noche))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/mañana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},defaultParseWidth:"any"})};t.default=i,e.exports=t.default},5847:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(1)),r=o(a(157));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(){return n.default.createElement(r.default,{summaryType:"byDay"})}},5848:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(1)),r=o(a(157));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(){return n.default.createElement(r.default,{summaryType:"byYear"})}},85:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(70)),r=f(a(55)),o=f(a(41)),i=f(a(42)),u=f(a(56)),d=f(a(57));t.default=function(e){var t=new s.default(c+"/api");return function(a){function s(e){(0,o.default)(this,s);var t=(0,u.default)(this,(s.__proto__||(0,r.default)(s)).call(this,e));return t.state={user:null},t}return(0,d.default)(s,a),(0,i.default)(s,[{key:"componentWillMount",value:function(){if(t.loggedIn())try{var e=t.getProfile();this.setState({user:e})}catch(e){t.logout(),this.props.history.replace("/login")}else this.props.history.replace("/login")}},{key:"render",value:function(){return this.state.user?l.default.createElement(e,(0,n.default)({history:this.props.history,user:this.state.user},this.props)):null}}]),s}(l.default.Component)};var l=f(a(1)),s=f(a(54));function f(e){return e&&e.__esModule?e:{default:e}}var c="https://powerful-forest-19235.herokuapp.com"}}]);
//# sourceMappingURL=5.bundle.js.map