{"version":3,"sources":["webpack:///./src/container/Login/authService.js","webpack:///./src/container/Calories/create.js","webpack:///./src/container/Calories/styles.css?6ed4","webpack:///./src/container/Calories/styles.css","webpack:///./src/container/Login/withAuth.js"],"names":["__webpack_require__","u","e","__esModule","default","AuthService","domain","_classCallCheck3","this","fetch","bind","login","getProfile","email","password","_this","method","body","_stringify2","then","res","setToken","token","_promise2","resolve","getToken","isTokenExpired","_jwtDecode2","exp","Date","now","err","key","value","idToken","localStorage","setItem","getItem","removeItem","url","options","headers","Accept","Content-Type","loggedIn","Authorization","_extends3","_checkStatus","response","json","status","error","Error","statusText","i","c","C","_styles","k","_recompose","_core","_","w","_components","E","_getUTCDate","Auth","HOST","getFoodUuid","data","item","find","label","uuid","x-auth","initialState","meal","inputValue","selectedItem","selectedFood","mealType","date","_format2","loading","foodCatalog","mealCatalog","CreateCalories","state","onChange","setState","_defineProperty3","target","name","handleKeyDown","event","_this$state","length","_keycode2","slice","handleInputChange","handleChange","_this$state2","indexOf","handleDelete","splice","onUpdate","_callee","_this$state3","_regenerator2","wrap","_context","prev","next","foods","props","match","params","axios","patch","sent","history","push","t0","catch","message","stop","_this2","o","apply","arguments","onSave","_callee2","_this$state4","_context2","post","l","onDelete","_callee3","_context3","delete","n","logout","replace","a","t","y","getDetail","load","all","get","_context4","p","f","mark","UTCDate","map","_context5","classes","_state","disabled","deafultDate","_react2","createElement","style","textAlign","marginTop","Circular","NavMenu","username","user","className","styles","title","Paper","elevation","root","TextField","margin","width","SimpleSelect","id","type","defaultValue","InputLabelProps","shrink","Autocomplete","placeholder","btnContainer","Button","deleteBtn","variant","onClick","color","React","Component","compose","withStyles","theme","padding","avatar","height","background","marginRight","withAuth","content","module","hmr","transform","insertInto","locals","exports","version","sources","names","mappings","file","sourcesContent","sourceRoot","section","avatarContainer","85","Object","defineProperty","r","s","AuthComponent","_React$Component","AuthWrapped","_possibleConstructorReturn3","__proto__","_getPrototypeOf2","call","_inherits3","_createClass3","profile","d"],"mappings":"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","file":"4.bundle.js","sourcesContent":["import decode from 'jwt-decode'\n\nexport default class AuthService {\n  constructor (domain) {\n    this.domain = domain || 'http://localhost:5000/api'\n    this.fetch = this.fetch.bind(this)\n    this.login = this.login.bind(this)\n    this.getProfile = this.getProfile.bind(this)\n  }\n\n  login (email, password) {\n    return this.fetch(`${this.domain}/users/login`, {\n      method: 'POST',\n      body: JSON.stringify({\n        email,\n        password\n      })\n    }).then(res => {\n      this.setToken(res.token)\n      return Promise.resolve(res)\n    })\n  }\n\n  loggedIn () {\n    const token = this.getToken()\n    return !!token && !this.isTokenExpired(token)\n  }\n\n  isTokenExpired (token) {\n    try {\n      const decoded = decode(token)\n      if (decoded.exp < Date.now() / 1000) {\n        return true\n      } else {\n        return false\n      }\n    } catch (err) {\n      return false\n    }\n  }\n\n  setToken (idToken) {\n    localStorage.setItem('id_token', idToken)\n  }\n\n  getToken () {\n    return localStorage.getItem('id_token')\n  }\n\n  logout () {\n    localStorage.removeItem('id_token')\n  }\n\n  getProfile () {\n    return decode(this.getToken())\n  }\n\n  fetch (url, options) {\n    const headers = {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    }\n\n    if (this.loggedIn()) {\n      headers['Authorization'] = 'Bearer ' + this.getToken()\n    }\n\n    return fetch(url, {\n      headers,\n      ...options\n    })\n      .then(this._checkStatus)\n      .then(response => response.json())\n  }\n\n  _checkStatus (response) {\n    if (response.status >= 200 && response.status < 300) {\n      return response\n    } else {\n      var error = new Error(response.statusText)\n      error.response = response\n      throw error\n    }\n  }\n}\n","import AuthService from '../Login/authService'\nimport withAuth from '../Login/withAuth'\nconst Auth = new AuthService()\n\nimport React from 'react'\nimport { withStyles } from '@material-ui/core/styles'\nimport axios from 'axios'\nimport { compose } from 'recompose'\nimport { Paper, Avatar, Button, TextField } from '@material-ui/core'\nimport keycode from 'keycode'\nimport format from 'date-fns/format'\nimport { Autocomplete, SimpleSelect, Circular, NavMenu } from '../../components'\nimport styles from './styles.css'\nimport { UTCDate } from '../../helpers/getUTCDate'\n\nconst HOST = process.env.API_URL\n\nconst InlStyle = theme => ({\n  root: {\n    padding: '1em',\n    width: '50%',\n    margin: '0 auto'\n  },\n  avatar: {\n    padding: '.5em',\n    width: '100px',\n    height: '100px',\n    background: '#651fff'\n  },\n  deleteBtn: {\n    marginRight: '2em',\n    background: '#f44336',\n    color: 'white'\n  }\n})\n\nconst getFoodUuid = (data, item) => data.find(i => i.label === item).uuid\n\nconst token = localStorage.getItem('id_token')\nconst headers = { headers: { 'x-auth': token } }\n\nconst initialState = {\n  meal: '',\n  inputValue: '',\n  selectedItem: [],\n  selectedFood: [],\n  mealType: '',\n  date: '' || format(new Date(), 'YYYY-MM-dd'),\n  loading: false,\n  error: null,\n  foodCatalog: [],\n  mealCatalog: []\n}\n\nclass CreateCalories extends React.Component {\n  state = initialState\n\n  componentDidMount() {\n    const uuid = this.props.match.params.uuid\n\n    if (uuid) {\n     this.getDetail(uuid)\n    }\n\n    this.load()\n  }\n\n  async load () {\n    this.setState({ loading: true })\n\n    try {\n      const [foodCatalog, mealCatalog] = await Promise.all([\n        axios.get(`${HOST}/api/catalogs/foodTypes`, headers).then(res => res.data),\n        axios.get(`${HOST}/api/catalogs/mealTypes`, headers).then(res => res.data)\n      ])\n\n      this.setState({\n        loading: false,\n        foodCatalog,\n        mealCatalog\n      })\n    } catch(e) {\n      this.setState({\n        error: e.message,\n        loading: false\n      })\n    }\n  }\n\n  async getDetail (uuid) {\n    this.setState({ loading: true })\n    try {\n      const data = await axios.get(`${HOST}/api/meals/${uuid}`, headers).then(res => res.data)\n      this.setState({\n        loading: false,\n        meal: data.meal,\n        mealType: data.mealType.uuid,\n        date: UTCDate(data.date, 'YYYY-MM-dd'),\n        selectedItem: data.foods.map(i => i.label),\n        selectedFood: data.foods.map(i => i.uuid)\n      })\n    } catch (e) {\n      this.setState({\n        error: e.message,\n        loading: false\n      })\n    }\n  }\n\n  onChange = e => {\n    this.setState({ [e.target.name]: e.target.value })\n  }\n\n  handleKeyDown = event => {\n    const { inputValue, selectedItem } = this.state\n    if (selectedItem.length && !inputValue.length && keycode(event) === 'backspace') {\n      this.setState({\n        selectedItem: selectedItem.slice(0, selectedItem.length - 1),\n      })\n    }\n  }\n\n  handleInputChange = event => {\n    this.setState({ inputValue: event.target.value })\n  }\n\n  handleChange = item => {\n    let { selectedItem, selectedFood } = this.state\n\n    if (selectedItem.indexOf(item) === -1) {\n      selectedItem = [...selectedItem, item]\n      selectedFood = [...selectedFood, getFoodUuid(this.state.foodCatalog, item)]\n    }\n  \n    this.setState({\n      inputValue: '',\n      selectedItem,\n      selectedFood\n    })\n  }\n\n  handleDelete = item => () => {\n    this.setState(state => {\n      const selectedItem = [...state.selectedItem]\n      const selectedFood = [...state.selectedFood]\n\n      selectedItem.splice(selectedItem.indexOf(item), 1)\n      selectedFood.splice(selectedFood.indexOf(getFoodUuid(this.state.foodCatalog, item)), 1)\n\n      return {\n        selectedItem,\n        selectedFood\n      }\n    })\n  }\n\n  onUpdate = async (e) => {\n    this.setState({ loading: true })\n\n    const { meal, selectedFood, mealType, date } = this.state\n    const data = { meal, foods: selectedFood, mealType, date }\n    const uuid = this.props.match.params.uuid\n\n    try {\n      const response = await axios.patch(`${HOST}/api/meals/${uuid}`, data, headers)\n      this.setState({ loading: false })\n      this.props.history.push('/dashboard')\n    } catch (e) {\n      this.setState({\n        error: e.message,\n        loading: false\n      })\n    }\n  }\n\n  onSave = async (e) => {\n    this.setState({loading: true})\n\n    const {meal, selectedFood, mealType, date} = this.state\n    const data = { meal, foods: selectedFood, mealType, date }\n\n    try {\n      const response = await axios.post(`${HOST}/api/meals`, data, headers)\n      this.setState({loading: false})\n      this.props.history.push('/dashboard')\n    } catch (e) {\n      this.setState({\n        error: e.message,\n        loading: false\n      })\n    }\n  }\n\n  onDelete = async (e) => {\n    this.setState({ loading: true })\n    const uuid = this.props.match.params.uuid\n\n    try {\n      const response = await axios.delete(`${HOST}/api/meals/${uuid}`, headers)\n      this.setState({ loading: false })\n      this.props.history.push('/')\n    } catch (e) {\n      this.setState({\n        error: e.message,\n        loading: false\n      })\n    }\n  }\n\n  componentWillUnmount () {\n    this.setState(initialState)\n  }\n\n  logout = e => {\n    Auth.logout()\n    this.props.history.replace('/login')\n  }\n\n\n  render () {\n    const {classes} = this.props\n\n    const {\n      meal, mealType, selectedItem,\n      inputValue, selectedFood, loading,\n      error, date, foodCatalog, mealCatalog\n    } = this.state\n\n    const disabled = !!meal && !!mealType && selectedItem.length > 0\n    const deafultDate = !!date ? date : format(new Date(), 'YYYY-MM-dd')\n\n    if (loading) {\n      return (\n        <div style={{ textAlign: 'center', marginTop: '5em' }}>\n          <Circular />\n        </div>\n      )\n    }\n\n    if (error) return <p>{error}</p>\n\n    return (\n      <div>\n        <NavMenu username={this.props.user.username} logout={this.logout} />\n\n        <h1 className={styles.title} >Agregar Calor√≠as</h1>\n        <Paper elevation={1} className={classes.root}>\n          <TextField\n            error={!this.state.meal}\n            name='meal'\n            label='Comida'\n            value={this.state.meal}\n            onChange={this.onChange}\n            margin='normal'\n            style={{width: '50%'}}\n          />\n          <SimpleSelect\n            data={mealCatalog}\n            label={'Tipo'}\n            name='mealType'\n            value={this.state.mealType}\n            onChange={this.onChange}\n          />\n          <TextField\n            id='date'\n            label='Fecha'\n            type='date'\n            name='date'\n            defaultValue={deafultDate}\n            onChange={this.onChange}\n            InputLabelProps={{\n              shrink: true,\n            }}\n          />\n          <Autocomplete\n            label='Alimentos'\n            placeholder='Seleccione multiples alimentos'\n            data={foodCatalog}\n            inputValue={inputValue}\n            selectedItem={selectedItem}\n            handleKeyDown={this.handleKeyDown}\n            handleInputChange={this.handleInputChange}\n            handleChange={this.handleChange}\n            handleDelete={this.handleDelete}\n          />\n          <div className={styles.btnContainer} >\n            {this.props.match.params.uuid &&\n              <Button\n                className={classes.deleteBtn}\n                name='mealType'\n                variant='contained'\n                onClick={this.onDelete}\n              >\n                Eliminar\n              </Button>\n            }\n            <Button \n              disabled={!disabled}\n              name='mealType'\n              variant='contained'\n              color='secondary'\n              onClick={this.props.match.params.uuid  ? this.onUpdate : this.onSave}\n            >\n              {this.props.match.params.uuid ? 'Actualizar' : 'Guardar'}\n            </Button>\n          </div>\n        </Paper>\n      </div>\n    )\n  }\n}\n\nexport default compose(\n  withStyles(InlStyle),\n  withAuth\n)(CreateCalories)\n","\nvar content = require(\"!!../../../node_modules/css-loader/index.js??ref--6-2!./styles.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js??ref--6-2!./styles.css\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js??ref--6-2!./styles.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".styles_title_Cg225NhCQWu0KPjk5hkVy {\\n  text-align: center;\\n  color: #f44336;\\n}\\n\\n.styles_btnContainer_1eKPDxqs7ePkWFRKQwXqXF {\\n  text-align: right;\\n  margin-top: .5em;\\n}\\n\\n.styles_section_1mp7qdNumzvPJCK1jHtwE8 {\\n  margin-top: .5em;\\n}\\n\\n.styles_avatarContainer_2tcZ4tbW-tszOuzgehAh31 {\\n  padding: 1em;\\n  display: flex;\\n  justify-content: center;\\n}\", \"\", {\"version\":3,\"sources\":[\"/Users/oscaroceguera/Documents/Repos/Examples/calorie_challenge/front/src/container/Calories/styles.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,mBAAmB;EACnB,eAAe;CAChB;;AAED;EACE,kBAAkB;EAClB,iBAAiB;CAClB;;AAED;EACE,iBAAiB;CAClB;;AAED;EACE,aAAa;EACb,cAAc;EACd,wBAAwB;CACzB\",\"file\":\"styles.css\",\"sourcesContent\":[\".title {\\n  text-align: center;\\n  color: #f44336;\\n}\\n\\n.btnContainer {\\n  text-align: right;\\n  margin-top: .5em;\\n}\\n\\n.section {\\n  margin-top: .5em;\\n}\\n\\n.avatarContainer {\\n  padding: 1em;\\n  display: flex;\\n  justify-content: center;\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\nexports.locals = {\n\t\"title\": \"styles_title_Cg225NhCQWu0KPjk5hkVy\",\n\t\"btnContainer\": \"styles_btnContainer_1eKPDxqs7ePkWFRKQwXqXF\",\n\t\"section\": \"styles_section_1mp7qdNumzvPJCK1jHtwE8\",\n\t\"avatarContainer\": \"styles_avatarContainer_2tcZ4tbW-tszOuzgehAh31\"\n};","import React from 'react'\nimport AuthService from './authService'\n\nexport default function withAuth (AuthComponent) {\n  const Auth = new AuthService('http://localhost:5000/api')\n\n  return class AuthWrapped extends React.Component {\n    constructor (props) {\n      super(props)\n      this.state = {\n        user: null\n      }\n    }\n\n    componentWillMount () {\n      if (!Auth.loggedIn()) {\n        this.props.history.replace('/login')\n      } else {\n        try {\n          const profile = Auth.getProfile()\n          this.setState({\n            user: profile\n          })\n        } catch (e) {\n          Auth.logout()\n          this.props.history.replace('/login')\n        }\n      }\n    }\n\n    render () {\n      if (this.state.user) {\n        return (\n          <AuthComponent history={this.props.history} user={this.state.user} {...this.props} />\n        )\n      } else {\n        return null\n      }\n    }\n  }\n}\n"],"sourceRoot":""}